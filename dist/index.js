class EntityComponentSystem{constructor(){this.components=[],this.processors=[],this.entities=[]}getProcessorNames(){return this.processors.map(t=>t.name)}hasProcessor(t){return this.processors.find(s=>s.name===t)}hasComponent(t){return this.components.find(s=>s.name===t)}hasEntity(t){return this.entities.find(s=>s.name===t)}createEntity(t,s){let n={name:t,components:s};return s.forEach(t=>{const s=this.components.find(s=>t===s.name);n=Object.assign(n,s.state)}),n}addEntity(t){this.entities.push(t)}addComponent(t){this.components.push(t)}addProcessor(t){this.processors.push(t)}getEntitiesFromComponent(t){return this.entities.filter(s=>s.components.includes(t))}getComponent(t){return this.components.find(s=>t===s.name)}runProcessors(){this.processors.forEach(t=>{const s=this.getEntitiesFromComponent(t.component),n=this.getComponent(t.component);t.update(n,s)})}runCustomLogicOnEntities(){this.entities.forEach(t=>{t.update&&t.update()})}update(){this.runProcessors(),this.runCustomLogicOnEntities()}}module.exports=EntityComponentSystem;
